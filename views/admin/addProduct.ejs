<%- include('../admin/layouts/header.ejs') %>
  <div class="main-panel">
    <div class="content-wrapper">




      <div class="col-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Add New Product</h4>
            <!-- <p class="card-description"> Basic form elements </p> -->
                
            <form class="forms-sample " action="/admin/books" method="post" enctype="multipart/form-data"
                                                                                                                                                                                                                                                                           onsubmit="return validateProductForm()">

              <div class="form-group  row">
                
                <div class="col-6  text-light">
                  <label for="exampleInputName1">Book name</label>
                  <input type="text" class="form-control  text-light" name="name" 
                                                                                                                                                                                                                                                                                 placeholder="Name">
                </div>
                <div class="col-6">
                  <label for="exampleInputName1">Price</label>
                  <input type="number" class="form-control text-light" id="exampleInputName1" name="price"
                                                                                                                                                                                                                                                                                 placeholder="price">
                </div>

              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group row">
                    <div class="col-sm-12">
                      <label class="col-sm-3 col-form-label">Category</label>
                      <select name="category" class="form-control text-light" required>
                        <option value="" disabled selected>Select Category</option>
                        <% for( let i = 0; i < categories.length; i++ ) { %>
                          <option value="<%= categories[i].categoryName %>"><%= categories[i].categoryName %></option>
                        <% } %>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group row">
                    <div class="col-sm-12">
                      <label class="col-sm-3 col-form-label">Author</label>
                      <input type="text" class="form-control text-light" placeholder="Author" name="author">
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="form-group row">
                    <div class="col-sm-12">
                      <label class="col-sm-3 col-form-label">Number of Stock</label>
                      <input type="number" class="form-control text-light" id="exampleInputName1" name="stock"
                                                                                                                                                                                                                                                                                     placeholder="Enter Stock">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group row">
                    <div class="col-sm-12">
                      <label class="col-sm-3 col-form-label">Discount</label>
                      <input type="number" class="form-control text-light" id="exampleInputName1" name="discount"
                                                                                                                                                                                                                                                                                     placeholder="Enter Stock">
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-group mt-2">
                <label for="exampleTextarea1">Description</label>
                <textarea name="description" class="form-control text-light" id="exampleTextarea1" rows="4"></textarea>
              </div>
              <div class="">
                <!-- <label class="col-sm-3 col-form-label">Images</label> -->
                <div class="row d-flex justify-content-center ">

                  <div class="row d-flex justify-content-between ">


                    <!-- image1 upload  -->

                    <div class="col-lg-4 col-md-6 rounded-image-previewMain">
                      <label for="imageInput1" class="image-label">image 1
                          <div class="rounded-image-preview">
                              <img id="imagePreview1" src="https://www.creativefabrica.com/wp-content/uploads/2021/04/05/Image-Upload-Icon-Graphics-10388650-1-580x386.jpg" alt="Preview"/>
                          </div>
                          <input name="image1" type="file" accept="image/*" id="imageInput1" class="imageInput" style="display: none;">
                          <button type="button" class="btn btn-sm" onclick="clearImage('imageInput1','imagePreview1')"><i class="fa-solid fa-trash"></i></button>
                        </label>
                  </div>
                  
                    <!-- image2 upload  -->

                    <div class="col-lg-4 col-md-6 rounded-image-previewMain">
                      <label for="imageInput2" class="image-label">image 2
                        <div class="rounded-image-preview">
                          <img id="imagePreview2" src="https://www.creativefabrica.com/wp-content/uploads/2021/04/05/Image-Upload-Icon-Graphics-10388650-1-580x386.jpg"
                          alt="Preview" />
                        </div>
                        <input name="image2" type="file" accept="image/*" id="imageInput2" class="imageInput">
                        <button type="button" class="btn btn-sm" onclick="clearImage('imageInput2','imagePreview2')"><i class="fa-solid fa-trash"></i></button>

                      </label>
                    </div>
                    <!-- image3 upload  -->

                    <div class="col-lg-4 col-md-6 rounded-image-previewMain">
                      <label for="imageInput3" class="image-label">image 3
                        <div class="rounded-image-preview">
                          <img id="imagePreview3" src="https://www.creativefabrica.com/wp-content/uploads/2021/04/05/Image-Upload-Icon-Graphics-10388650-1-580x386.jpg"
                                                                                                                                                                                                                                                                                         alt="Preview" />
                        </div>
                        <input name="image3" type="file" accept="image/*" id="imageInput3" class="imageInput">
                        <button type="button" class="btn btn-sm" onclick="clearImage('imageInput3','imagePreview3')"><i class="fa-solid fa-trash"></i></button>
                      </label>
                    </div>
                    <!-- image4 upload  -->

                    <div class="col-lg-4 col-md-6 rounded-image-previewMain">
                      <label for="imageInput4" class="image-label">image 3
                        <div class="rounded-image-preview">
                          <img id="imagePreview4" src="https://www.creativefabrica.com/wp-content/uploads/2021/04/05/Image-Upload-Icon-Graphics-10388650-1-580x386.jpg"
                                                                                                                                                                                                                                                                                         alt="Preview" />
                        </div>
                        <input name="image4" type="file" accept="image/*" id="imageInput4" class="imageInput">
                        <button type="button" class="btn btn-sm" onclick="clearImage('imageInput4','imagePreview4')"><i class="fa-solid fa-trash"></i></button>
                      </label>
                    </div>

                    

                  </div>




                </div>


                <button type="submit" class="btn btn-lg btn-primary mr-2 mt-5">Add product</button>
            </form>
          </div>
        </div>
      </div>


    </div>
    <!-- content-wrapper ends -->
    <!-- partial:partials/_footer.html -->
    <footer class="footer">
      <div class="content-wrapper ">
        <div id="FormAlert" data-aos="fade-down" class="alert alert-danger col-md-4 col-8 mx-auto fixed-top " style="display: none;  top:30px; border-radius: 7px; opacity: 0.9; "
                                                                                                                                                                                                                                                                       role="alert">
          <h6 class="alert-heading text-center">Please provide only valid data.</h6>
          <hr>
          <span class="row "><i class="fa-sharp fa-light fa-circle-xmark fa-shake"
                                                                                                                                                                                                                                                                           style="color: #ff0505; font-size: 18px;"></i>
            &nbsp;&nbsp;&nbsp; <p id="ValidErrMess"></p></span>

        </div>
    </footer>
    <!-- partial -->
  
  <script>

function clearImage(img,preview) {
  console.log("clear now");
    // Reset the value of the file input
    document.getElementById(img).value = null;
    // Reset the image preview
    document.getElementById(preview).src = "https://www.creativefabrica.com/wp-content/uploads/2021/04/05/Image-Upload-Icon-Graphics-10388650-1-580x386.jpg";
  }


  </script>
  </div>

  <%- include('../admin/layouts/footer.ejs') %>